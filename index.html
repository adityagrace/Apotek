
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apotek Sehat - Belanja Produk Kesehatan</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background: #f8f9fa;
        }

        header {
            background-color: #ffffff;
            padding: 1rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            text-align: center;
        }

        header h1 {
            color: #16a085;
            font-size: 1.4rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .menu {
            padding: 1rem;
        }

        .menu h2 {
            text-align: center;
            color: #333;
            margin-bottom: 1rem;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .menu-item {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .menu-item img {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }

        .menu-item-content {
            padding: 0.6rem;
        }

        .menu-item h3 {
            font-size: 0.9rem;
            height: 2.4em;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .menu-item .price {
            color: #e74c3c;
            font-weight: bold;
            font-size: 0.85rem;
            margin-bottom: 4px;
        }

        .menu-item .desc {
            font-size: 0.75rem;
            color: #555;
            margin-bottom: 8px;
            height: 2.8em;
            overflow: hidden;
        }

        .btn-order {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 0.4rem 0;
            width: 100%;
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
        }

        .btn-order:hover {
            background: #27ae60;
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-clinic-medical"></i> Apotek Sehat</h1>
    </header>

    <section class="menu" id="menu">
        <h2>Produk Apotek</h2>
        <div class="menu-grid">
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1588776814546-dc85fbd3bfc0?auto=format&fit=crop&w=800&q=80" alt="Paracetamol">
                <div class="menu-item-content">
                    <h3>Paracetamol 500mg</h3>
                    <div class="price">Rp 5.000</div>
                    <div class="desc">Obat penurun demam dan pereda nyeri ringan hingga sedang.</div>
                    <button class="btn-order">Beli</button>
                </div>
            </div>
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1597764691513-342e5ca0172e?auto=format&fit=crop&w=800&q=80" alt="Vitamin C">
                <div class="menu-item-content">
                    <h3>Vitamin C 1000mg</h3>
                    <div class="price">Rp 12.000</div>
                    <div class="desc">Suplemen untuk membantu menjaga daya tahan tubuh.</div>
                    <button class="btn-order">Beli</button>
                </div>
            </div>
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1600166898535-b49b2c3d1bb6?auto=format&fit=crop&w=800&q=80" alt="Masker Medis">
                <div class="menu-item-content">
                    <h3>Masker Medis 3 Ply (Isi 10)</h3>
                    <div class="price">Rp 15.000</div>
                    <div class="desc">Masker pelindung dengan 3 lapisan, cocok untuk pemakaian harian.</div>
                    <button class="btn-order">Beli</button>
                </div>
            </div>
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1584036561584-b03c19da874c?auto=format&fit=crop&w=800&q=80" alt="Hand Sanitizer">
                <div class="menu-item-content">
                    <h3>Hand Sanitizer 100ml</h3>
                    <div class="price">Rp 10.000</div>
                    <div class="desc">Antiseptik cair berbasis alkohol untuk kebersihan tangan tanpa air.</div>
                    <button class="btn-order">Beli</button>
                </div>
            </div>
        </div>
    </section>

<!-- Cart Overlay -->
<div class="cart-overlay" id="cart-overlay"></div>

<!-- Cart Panel -->
<div class="cart-panel" id="cart-panel">
    <div class="cart-header">
        <h2><i class="fas fa-shopping-cart"></i> Keranjang Belanja</h2>
        <button class="close-cart" id="close-cart">&times;</button>
    </div>
    <div class="cart-items" id="cart-items">
        <div class="cart-empty" id="cart-empty">
            <i class="fas fa-shopping-cart"></i>
            <p>Keranjang belanja Anda kosong</p>
        </div>
    </div>
    <div class="cart-footer">
        <div class="cart-total">
            <span>Total:</span>
            <span>Rp <span id="cart-total">0</span></span>
        </div>
        <button class="btn" id="checkout-btn">Checkout Pesanan</button>
    </div>
</div>

<!-- WhatsApp Order Panel -->
<div class="whatsapp-order" id="whatsapp-order">
    <div class="wa-header">
        <h2><i class="fab fa-whatsapp"></i> Konfirmasi Pesanan</h2>
        <button class="close-wa" id="close-wa">&times;</button>
        <p>Kirim pesanan ke WhatsApp outlet kami</p>
    </div>
    <div class="wa-content">
        <div class="order-summary">
            <h3>Rincian Pesanan:</h3>
            <div id="order-items"></div>
            <div class="order-total">
                <span>Total:</span>
                <span>Rp <span id="order-total">0</span></span>
            </div>
        </div>
        <div class="wa-form">
            <h3>Informasi Pelanggan:</h3>
            <div class="form-group">
                <label for="customer-name">Nama Lengkap:</label>
                <input type="text" id="customer-name" required>
            </div>
            <div class="form-group">
                <label for="customer-phone">No. WhatsApp:</label>
                <input type="tel" id="customer-phone" required>
            </div>
            <div class="form-group">
                <label for="customer-address">Alamat Pengiriman:</label>
                <textarea id="customer-address" rows="3" required></textarea>
            </div>
            <div class="form-group">
                <label for="customer-note">Catatan Tambahan:</label>
                <textarea id="customer-note" rows="2"></textarea>
            </div>
        </div>
        <div class="wa-buttons">
            <button class="btn btn-cancel" id="cancel-order">Batal</button>
            <button class="btn btn-send" id="send-wa"><i class="fab fa-whatsapp"></i> Kirim via WhatsApp</button>
        </div>
    </div>
</div>


<script>
    let cart = [];
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    const cartCount = document.querySelector('.cart-count');
    const cartEmpty = document.getElementById('cart-empty');
    const cartPanel = document.getElementById('cart-panel');
    const cartOverlay = document.getElementById('cart-overlay');
    const cartIcon = document.getElementById('cart-icon');
    const closeCart = document.getElementById('close-cart');
    const checkoutBtn = document.getElementById('checkout-btn');

    const waOrderPanel = document.getElementById('whatsapp-order');
    const closeWa = document.getElementById('close-wa');
    const cancelOrder = document.getElementById('cancel-order');
    const sendWaBtn = document.getElementById('send-wa');
    const orderItems = document.getElementById('order-items');
    const orderTotal = document.getElementById('order-total');
    const customerName = document.getElementById('customer-name');
    const customerPhone = document.getElementById('customer-phone');
    const customerAddress = document.getElementById('customer-address');
    const customerNote = document.getElementById('customer-note');

    const whatsappNumber = "+6281934569555";

    document.querySelectorAll('.btn-order').forEach((button, index) => {
        button.addEventListener('click', () => {
            const item = button.closest('.menu-item');
            const name = item.querySelector('h3').innerText;
            const price = parseInt(item.querySelector('.price').innerText.replace(/[Rp.\s]/g, ""));
            const img = item.querySelector('img').src;

            addToCart(index, name, price, img);
            openCart();
        });
    });

    function addToCart(id, name, price, img) {
        const existingItem = cart.find(item => item.id === id);
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({ id, name, price, img, quantity: 1 });
        }
        updateCart();
    }

    function updateCart() {
        if (cart.length === 0) {
            cartEmpty.style.display = 'block';
            cartItems.innerHTML = '';
            cartItems.appendChild(cartEmpty);
        } else {
            cartEmpty.style.display = 'none';
            cartItems.innerHTML = '';
            cart.forEach(item => {
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = \`
                    <img src="\${item.img}" alt="\${item.name}" style="width:60px;height:60px;margin-right:10px;">
                    <div style="flex:1">
                        <h4 style="margin:0;font-size:0.95rem;">\${item.name}</h4>
                        <p style="color:#e74c3c;margin:2px 0;">Rp \${item.price.toLocaleString('id-ID')}</p>
                        <div>
                            <button onclick="updateQuantity(\${item.id}, -1)">-</button>
                            <span style="margin: 0 5px;">\${item.quantity}</span>
                            <button onclick="updateQuantity(\${item.id}, 1)">+</button>
                        </div>
                    </div>
                    <button onclick="removeItem(\${item.id})" style="color:#e74c3c;">&times;</button>
                \`;
                cartItems.appendChild(div);
            });
        }

        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        cartTotal.textContent = total.toLocaleString('id-ID');
    }

    function updateQuantity(id, change) {
        const item = cart.find(i => i.id === id);
        if (item) {
            item.quantity += change;
            if (item.quantity <= 0) {
                cart = cart.filter(i => i.id !== id);
            }
            updateCart();
        }
    }

    function removeItem(id) {
        cart = cart.filter(i => i.id !== id);
        updateCart();
    }

    function openCart() {
        cartPanel.classList.add('active');
        cartOverlay.style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function closeCartPanel() {
        cartPanel.classList.remove('active');
        cartOverlay.style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    function openWaPanel() {
        orderItems.innerHTML = '';
        cart.forEach(item => {
            const div = document.createElement('div');
            div.className = 'order-item';
            div.innerHTML = \`<span>\${item.quantity}x \${item.name}</span><span>Rp \${(item.price * item.quantity).toLocaleString('id-ID')}</span>\`;
            orderItems.appendChild(div);
        });
        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        orderTotal.textContent = total.toLocaleString('id-ID');
        waOrderPanel.classList.add('active');
        cartOverlay.style.display = 'block';
    }

    function closeWaPanel() {
        waOrderPanel.classList.remove('active');
        cartOverlay.style.display = 'none';
    }

    function sendToWhatsApp() {
        if (!customerName.value || !customerPhone.value || !customerAddress.value) {
            alert("Isi semua data terlebih dahulu!");
            return;
        }

        let message = "Halo, saya ingin memesan produk apotek:\n\n";
        cart.forEach(item => {
            message += \`\${item.quantity}x \${item.name} - Rp \${(item.price * item.quantity).toLocaleString('id-ID')}\n\`;
        });

        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        message += \`\nTotal: Rp \${total.toLocaleString('id-ID')}\n\n\`;

        message += \`Nama: \${customerName.value}\nNo. HP: \${customerPhone.value}\nAlamat: \${customerAddress.value}\n\`;
        if (customerNote.value) message += \`Catatan: \${customerNote.value}\n\`;

        const waUrl = \`https://wa.me/\${whatsappNumber}?text=\${encodeURIComponent(message)}\`;
        window.open(waUrl, '_blank');

        cart = [];
        updateCart();
        closeCartPanel();
        closeWaPanel();
    }

    // Tombol event
    checkoutBtn.addEventListener('click', () => {
        if (cart.length > 0) {
            closeCartPanel();
            setTimeout(openWaPanel, 300);
        } else {
            alert("Keranjang kosong!");
        }
    });

    document.getElementById('close-cart').addEventListener('click', closeCartPanel);
    document.getElementById('close-wa').addEventListener('click', closeWaPanel);
    document.getElementById('cancel-order').addEventListener('click', closeWaPanel);
    document.getElementById('send-wa').addEventListener('click', sendToWhatsApp);
</script>

</body>
</html>
